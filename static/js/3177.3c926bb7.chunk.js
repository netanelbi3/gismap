"use strict";(self.webpackChunkgis_app=self.webpackChunkgis_app||[]).push([[3177],{13177:(e,i,t)=>{t.r(i),t.d(i,{default:()=>d});var s=t(27366),n=t(93169),r=t(94172),a=(t(32718),t(25243),t(63780),t(10064),t(69912)),l=t(18661),o=t(20089);let u=class extends o.default{initialize(){this.addHandles([(0,r.YP)((()=>this.view.scale),(()=>this._update()),r.nn)],"constructor")}isUpdating(){var e;const i=this.layer.sublayers.some((e=>null!=e.renderer)),t=this._commandsQueue.updating,s=null!=this._updatingRequiredFieldsPromise,r=!this._proxy||!this._proxy.isReady,a=this._pipelineIsUpdating,l=null==this.tileRenderer||(null===(e=this.tileRenderer)||void 0===e?void 0:e.updating),o=i&&(t||s||r||a||l);return(0,n.Z)("esri-2d-log-updating")&&console.log("Updating FLV2D: ".concat(o,"\n  -> hasRenderer ").concat(i,"\n  -> hasPendingCommand ").concat(t,"\n  -> updatingRequiredFields ").concat(s,"\n  -> updatingProxy ").concat(r,"\n  -> updatingPipeline ").concat(a,"\n  -> updatingTileRenderer ").concat(l,"\n")),o}_injectOverrides(e){let i=super._injectOverrides(e);const t=this.view.scale,s=this.layer.sublayers.filter((e=>function(e,i){return!e.visible||0!==e.minScale&&i>e.minScale||0!==e.maxScale&&i<e.maxScale}(e,t))).map((e=>e.subtypeCode));if(!s.length)return i;i=null!=i?i:(new l.Z).toJSON();const n="NOT ".concat(this.layer.subtypeField," IN (").concat(s.join(","),")");return i.where=i.where?"(".concat(i.where,") AND (").concat(n,")"):n,i}_setLayersForFeature(e){const i=this.layer.fieldsIndex.get(this.layer.subtypeField),t=e.attributes[i.name],s=this.layer.sublayers.find((e=>e.subtypeCode===t));e.layer=e.sourceLayer=s}_createSchemaConfig(){const e={subtypeField:this.layer.subtypeField,sublayers:Array.from(this.layer.sublayers).map((e=>({featureReduction:null,geometryType:this.layer.geometryType,labelingInfo:e.labelingInfo,labelsVisible:e.labelsVisible,renderer:e.renderer,subtypeCode:e.subtypeCode,orderBy:null})))},i=this.layer.sublayers.map((e=>e.subtypeCode)).join(","),t=this.layer.sublayers.length?"".concat(this.layer.subtypeField," IN (").concat(i,")"):"1=2";let s=this.layer.definitionExpression?this.layer.definitionExpression+" AND ":"";return s+=t,{...super._createSchemaConfig(),...e,definitionExpression:s}}};u=(0,s._)([(0,a.j)("esri.views.2d.layers.SubtypeGroupLayerView2D")],u);const d=u}}]);
//# sourceMappingURL=3177.3c926bb7.chunk.js.map